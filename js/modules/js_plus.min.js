/*!
 * js_plus.js
 * https://github.com/wzh656/js-plus/
 * Version: 1.0
 * Copyright Â© 2021 wzh
 * Released under the MIT license
 * https://github.com/wzh656/js-plus/blob/main/LICENSE
 */
(function(){if(typeof String!="undefined"){if(!String.prototype.padStart){String.prototype.padStart=function(t,e){t=t>>0;e=String(typeof e!=="undefined"?e:" ");if(this.length>t){return String(this)}else{t=t-this.length;if(t>e.length){e+=e.repeat(t/e.length)}return e.slice(0,t)+String(this)}}}if(!String.prototype.padEnd){String.prototype.padEnd=function(t,e){t=t>>0;e=String(typeof e!=="undefined"?e:"");if(this.length>t){return String(this)}else{t=t-this.length;if(t>e.length){e+=e.repeat(t/e.length)}return String(this)+e.slice(0,t)}}}String.random=function(t,e=[]){let n="";if(!(e instanceof Array))e=Object.keys(e);if(t===undefined){do{n=Math.random().toString(36).substr(2)}while(e.some(t=>t==n))}else{do{while(n.length<t)n+=Math.random().toString(36).substr(2);n=n.slice(0,t)}while(e.some(t=>t==n))}return n}}if(typeof Number!="undefined"){Number.prototype.padding=function(t,e){var n=String(this).split(".");var r="";if(isNaN(+n[0].charAt(0))){r=n[0].charAt(0);n[0]=n[0].slice(1)}while(n[0].length+r.length<t)n[0]="0"+n[0];n[1]=n[1]||"";while(n[1].length<e)n[1]+="0";return r+n[0]+(n[1]?"."+n[1]:"")}}if(typeof Math!="undefined"){const n=Math.round;Math.round=function(t=0,e){if(e!==undefined)return n(t*10**e)/10**e;return n(t)};const r=Math.random;Math.random=function(t=1,e,n){if(e!==undefined){if(n!==undefined)return Math.round(r()*(e-t)+t,n);return r()*(e-t)+t}return r()*t};Math.limitRange=function(t,e,n,r){if(t<=e)return e;if(t>=n)return n;return r?Math.round(t,r):t};Math.modRange=function(t,e,n,r){const o=n-e;if(t>n){const i=(t-e)%o+e;return r?Math.round(i,r):i}if(t<e){const i=n-(n-t)%o;return r?Math.round(i,r):i}if(t==n){const i=e;return r?Math.round(i,r):i}return r?Math.round(t,r):t};Math.sum=function(...t){let e=0;for(const n of t)if(!isNaN(n))e+=n;return e};Math.avg=function(...t){return Math.sum(...t)/(t.filter(t=>!isNaN(t)).length||1)};const e=Math.PI/180,o=180/Math.PI;Math.rad=function(t){return t*e};Math.deg=function(t){return rad*o}}if(typeof Object!="undefined"){Object.map=function(t,e=t=>t){const n={};for(const[r,o]of Object.entries(t))n[r]=e(o,r,t);return n};Object.some=function(t,e=t=>t){const n={};for(const[r,o]of Object.entries(t))if(e(o,r,t))return true;return false};Object.every=function(t,e=t=>t){const n={};for(const[r,o]of Object.entries(t))if(!e(o,r,t))return false;return true};Object.and=function(t={},e={},n=e){for(const[r,o]of Object.entries(n))t[r]=t[r]&&e[r];return t};Object.or=function(t={},e={},n=e){for(const[r,o]of Object.entries(n))t[r]=t[r]||e[r];return t}}if(typeof Array!="undefined"){Array.new=function(t,e,...n){if(n.length==0){if(t instanceof Function){if(typeof e=="object"){const r=[];for(const o of Array.range(...e))r[o]=t();return r}else{return Array.from({length:e},t)}}else{if(typeof e=="object"){const r=[];for(const o of Array.range(...e))r[o]=t;return r}else{return new Array(e).fill(t)}}}else{if(typeof e=="object"){const r=[];for(const o of Array.range(...e))r[o]=Array.new(t,...n);return r}else{return new Array(e).fill(Array.new(t,...n))}}};Array.range=function(n,t,r=1){if(t===undefined)[n,t]=[0,n];return Array.from({length:Math.ceil((t-n)/r)},(t,e)=>n+e*r)};Array.random=function(t,e,n,r){return Array.from({length:t},()=>Math.random(e,n,r))};Array.prototype.sum=function(){return Math.sum(...this)};Array.prototype.avg=function(){return Math.avg(...this)};Array.prototype.min=function(){return Math.min(...this)};Array.prototype.max=function(){return Math.max(...this)};Array.prototype.randomSelect=function(r){if(r){const e=Math.random(0,r.sum());let n=0;for(let t=0;t<this.length;t++){n+=r[t];if(e<n)return this[t]}}else{return this[~~(Math.random()*this.length)]}}}if(typeof Date!="undefined"){Date.prototype.format=function(t){const e={"y+":this.getFullYear(),"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(const[n,r]of Object.entries(e))if(new RegExp("("+n+")").test(t))t=t.replace(RegExp.$1,(r+"").padStart(RegExp.$1.length,"0"));return t}}if(typeof location!="undefined"){location.getQueryString=function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)");var n=location.search.substr(1).match(e);if(n!=null)return decodeURIComponent(n[2])}}if(typeof URL!="undefined"){URL.image2base64=function(r,o="image/png"){return new Promise((e,t)=>{const n=new Image;n.onload=function(){const t=document.createElement("canvas");t.width=this.naturalWidth,t.height=this.naturalHeight;t.getContext("2d").drawImage(this,0,0);e(t.toDataURL(o))};n.onerror=t;n.setAttribute("crossOrigin","Anonymous");n.src=r})};URL.blob2url=function(t){return URL.createObjectURL(t)};URL.blob2base64=function(r){return new Promise((e,t)=>{const n=new FileReader;n.onload=t=>{e(t.target.result)};n.onerror=t;n.readAsDataURL(r)})};URL.base64ToBlob=function(t){let e=t.split(","),n=e[0].match(/:(.*?);/)[1],r=atob(e[1]),o=r.length,i=new Uint8Array(o);while(o--)i[o]=r.charCodeAt(o);return new Blob([i],{type:n})}}if(typeof gloalThis=="undefined"){gloalThis=typeof window!=="undefined"?window:typeof process==="object"&&typeof require==="function"&&typeof global==="object"?global:this}gloalThis.OR=function(...t){for(const e of t)if(e!==undefined&&e!==null)return e;return t[t.length-1]};gloalThis.NEAR=function(t,e,n=1e-8){if(Math.abs(t-e)>=n)return false;return true}})();